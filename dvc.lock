schema: '2.0'
stages:
  data_ingestion:
    cmd: python ./src/data/data_ingestion.py
    deps:
    - path: ./src/data/data_ingestion.py
      hash: md5
      md5: b7b70fa926a686a01a58b8403b4f4b61
      size: 3722
  extract_features:
    cmd: python ./src/features/extract_features.py
    deps:
    - path: ./src/features/extract_features.py
      hash: md5
      md5: 962e41b74b008b8290d03cdb968673c2
      size: 4677
    params:
      params.yaml:
        extract_features.ewma.alpha: 0.4
        extract_features.mini_batch_kmeans.n_clusters: 30
        extract_features.mini_batch_kmeans.n_init: 10
        extract_features.mini_batch_kmeans.random_state: 42
    outs:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: 12223cf71910c11aa508fdf79c300704
      size: 8480319
    - path: ./models/mb_kmeans.joblib
      hash: md5
      md5: 9014c5da2ec73604a512a142310253ab
      size: 143771
    - path: ./models/scaler.joblib
      hash: md5
      md5: b018f036d9481c012637214736b80c05
      size: 999
  feature_engineering:
    cmd: python ./src/features/feature_processing.py
    deps:
    - path: ./data/processed/resampled_data.csv
      hash: md5
      md5: 12223cf71910c11aa508fdf79c300704
      size: 8480319
    - path: ./src/features/feature_processing.py
      hash: md5
      md5: 4e18ffae487224125f11333d7d524ca1
      size: 2513
    outs:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 65b5222d774da26b32b3df35332ca1fa
      size: 4989674
    - path: ./data/processed/train.csv
      hash: md5
      md5: 90e840dcb784030ec308dd1f28c9b45d
      size: 9609290
  train:
    cmd: python ./src/models/train.py
    deps:
    - path: ./data/processed/train.csv
      hash: md5
      md5: 90e840dcb784030ec308dd1f28c9b45d
      size: 9609290
    - path: ./src/models/train.py
      hash: md5
      md5: 4d3cb22b8927a743a03123e18a874df6
      size: 2359
    outs:
    - path: ./models/encoder.joblib
      hash: md5
      md5: 81da4a9f9035c4d7c5c7bd46bcf7ee9d
      size: 3605
    - path: ./models/model.joblib
      hash: md5
      md5: 0065ee9b967f86c976d9b15b99572848
      size: 2345
  evaluate:
    cmd: python ./src/models/evaluate.py
    deps:
    - path: ./data/processed/test.csv
      hash: md5
      md5: 65b5222d774da26b32b3df35332ca1fa
      size: 4989674
    - path: ./data/processed/train.csv
      hash: md5
      md5: 90e840dcb784030ec308dd1f28c9b45d
      size: 9609290
    - path: ./models/encoder.joblib
      hash: md5
      md5: 81da4a9f9035c4d7c5c7bd46bcf7ee9d
      size: 3605
    - path: ./models/model.joblib
      hash: md5
      md5: 0065ee9b967f86c976d9b15b99572848
      size: 2345
    - path: ./src/models/evaluate.py
      hash: md5
      md5: 7add99d0f90c656a79bd3a8d874a6808
      size: 4373
    outs:
    - path: ./run_information.json
      hash: md5
      md5: f5ccd861bfb289ab981d7325d3a3a335
      size: 175
  register_model:
    cmd: python ./src/models/register_model.py
    deps:
    - path: ./run_information.json
      hash: md5
      md5: f5ccd861bfb289ab981d7325d3a3a335
      size: 175
    - path: ./src/models/register_model.py
      hash: md5
      md5: a18818f81c4bd9bc105cb81ae09a2c96
      size: 2533
